# Component ablations for CHADO on CMU-MOSEI (emo6)
# This file is consumed by your ablation runner script (e.g., scripts/run_component_ablations_chado.py)
# It defines which CHADO modules are enabled/disabled per run.

base_config: configs/chado_mosei_emo6.yaml

# Which modalities to run ablations on (default: TAV)
# You can override from CLI if your runner supports --ablation.
default_ablation: TAV

# Where to write results
out_csv: outputs/tables/chado_component_ablations.csv
out_dir: outputs/component_ablations

# Main CHADO components toggles (the runner will apply overrides below)
components:
  causal:
    key_enable: chado.causal.enable
  hyperbolic:
    key_enable: chado.hyperbolic.enable
  ot:
    key_enable: chado.ot.enable
  mad:
    key_enable: chado.mad.enable
  self_correction:
    key_enable: chado.self_correction.enable

# Define ablation variants (each is a set of config overrides)
# Naming matches your paper figure:
#   w/o Causal
#   w/o Hyperbolic
#   w/o Transport (OT)
#   w/o (Causal + Hyperbolic)
#   w/o (Causal + Transport)
#   w/o (Hyperbolic + Transport)
variants:
  FULL_CHADO:
    desc: "Full CHADO (all enabled)"
    overrides:
      chado.causal.enable: true
      chado.hyperbolic.enable: true
      chado.ot.enable: true
      chado.mad.enable: true
      chado.self_correction.enable: true

  w_o_Causal:
    desc: "w/o Causal"
    overrides:
      chado.causal.enable: false
      chado.hyperbolic.enable: true
      chado.ot.enable: true
      chado.mad.enable: true
      chado.self_correction.enable: true

  w_o_Hyperbolic:
    desc: "w/o Hyperbolic"
    overrides:
      chado.causal.enable: true
      chado.hyperbolic.enable: false
      chado.ot.enable: true
      chado.mad.enable: true
      chado.self_correction.enable: true

  w_o_OT:
    desc: "w/o Transport (OT)"
    overrides:
      chado.causal.enable: true
      chado.hyperbolic.enable: true
      chado.ot.enable: false
      chado.mad.enable: true
      chado.self_correction.enable: true

  w_o_Causal_Hyperbolic:
    desc: "w/o (Causal + Hyperbolic)"
    overrides:
      chado.causal.enable: false
      chado.hyperbolic.enable: false
      chado.ot.enable: true
      chado.mad.enable: true
      chado.self_correction.enable: true

  w_o_Causal_OT:
    desc: "w/o (Causal + Transport)"
    overrides:
      chado.causal.enable: false
      chado.hyperbolic.enable: true
      chado.ot.enable: false
      chado.mad.enable: true
      chado.self_correction.enable: true

  w_o_Hyperbolic_OT:
    desc: "w/o (Hyperbolic + Transport)"
    overrides:
      chado.causal.enable: true
      chado.hyperbolic.enable: false
      chado.ot.enable: false
      chado.mad.enable: true
      chado.self_correction.enable: true

# Optional: training controls for ablations (runner may ignore if not implemented)
train:
  epochs: 10
  seed: 42
  save_ckpt: true
  save_name_template: "{variant}_{ablation}"
